@use '../../../../styles/variables' as *;

.MusicStaffEditor {
  width: 100%;
  min-height: 160px;
  background: $background-color;
  cursor: crosshair;
  overflow: auto;
  outline: none;

  &--readOnly {
    cursor: default;
  }

  &--selectMode {
    cursor: default;

    [data-note-index] {
      cursor: pointer;
    }
  }

  &:not(&--readOnly) [data-note-index] {
    cursor: grab;
  }

  &--dragging {
    cursor: grabbing;

    [data-note-index] {
      cursor: grabbing;
    }
  }

  svg {
    display: block;

    // VexFlow SVG elements — light theme overrides for dark background
    // Only make the SVG background rect transparent (direct child of <svg>).
    // Barlines and other drawn rects inside <g> groups must stay visible.
    > rect {
      fill: transparent;
    }

    text {
      fill: $primaryColorWhite;
    }

    path,
    line {
      stroke: $primaryColorWhite;
    }

    // Barline rects (inside stave groups) should be visible on dark background
    g rect {
      fill: $primaryColorWhite;
    }

    // Playback glow — bright white note with strong orange halo
    [data-note-index].MusicStaffEditor__note--playing path {
      filter: drop-shadow(0 0 4px #fff)
              drop-shadow(0 0 10px $primaryColor)
              drop-shadow(0 0 20px $primaryColor);
    }

    // Selection glow — white note with crisp bright outline
    [data-note-index].MusicStaffEditor__note--selected path {
      filter: drop-shadow(0 0 3px #fff)
              drop-shadow(0 0 6px #fff)
              drop-shadow(0 0 14px $primaryColor);
    }

  }
}
